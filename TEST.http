###
POST http://localhost:8080/users/signup
Authorization:
Content-Type: application/json

{
  "name": "송정학",
  "email": "asdf@naver.com",
  "password": "asdf1234@",
  "address": "asdf123",
  "role": "user"
}

###
POST http://localhost:8080/users/login
Content-Type: application/json

{
  "email": "asdf@naver.com",
  "password": "asdf1234@"
}

> {%
    // 응답 헤더에서 "Authorization" 또는 토큰 키를 가져옴
    const accessToken = response.headers.valueOf("Authorization");


    // 토큰이 있는 경우만 처리
    if (accessToken) {
        // Bearer 토큰 형식이 포함되어 있다면 분리
        const token = accessToken.replace("Bearer ", "").trim();

        // 환경 변수에 저장
        client.global.set("accessToken", token);
        console.log("Access Token:", token); // 디버깅용 로그
    } else {
        console.warn("Authorization header not found in response.");
    }

%}

###

POST http://localhost:8080/users/logout
Authorization: Bearer {{accessToken}}

> {%
// 로그아웃 성공 여부 확인
if (response.status === 200) {
    // 환경 변수에서 액세스 토큰 제거
    client.global.clear("accessToken");
    console.log("Access token has been removed from the environment.");
} else {
    console.error("Logout failed. Access token was not removed.");
}
%}

###
GET http://localhost:8080/toss/checkout
Authorization: Bearer {{accessToken}}

